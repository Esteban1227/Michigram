(()=>{"use strict";var t={};function e(t,e){return Math.floor(Math.random()*(e-t))+t}function n(){const t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(n),window.scrollTo(0,t-t/5))}function i(){s.classList.remove("inactive"),r.removeEventListener("click",i),r.addEventListener("click",a)}function a(){s.classList.add("inactive"),r.removeEventListener("click",a),r.addEventListener("click",i)}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var i=n.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const o=document.getElementById("randomMichis"),c=document.getElementById("favoriteMichis"),s=document.getElementById("menuMobilContainer"),r=document.getElementById("btnMenuMobile");r.addEventListener("click",i);const d=[...document.querySelectorAll(".nav__right--iconHome")];function l(){location.hash.startsWith("#favorite")?(o.classList.add("inactive"),c.classList.remove("inactive")):location.hash.startsWith("#Home")&&(o.classList.remove("inactive"),o.classList.remove("smoothTopToBottom"),c.classList.add("inactive"))}[...document.querySelectorAll(".nav__right--iconFav")].forEach((t=>{t.addEventListener("click",(()=>{location.hash="favorite",n()}))})),d.forEach((t=>{t.addEventListener("click",(()=>{location.hash="Home",n()}))}));const m="https://api.thecatapi.com/v1",h="53747e00-36d1-4c03-b6a6-5c31dfb1157e",u=t.p+"assets/";async function p(){const t=await fetch(`${m}/favourites`,{method:"GET",headers:{"X-API-KEY":h}}),e=await t.json();c.innerHTML="",function(){const t=document.createElement("div");t.classList.add("mainContainerFavorites__container-h2");const e=document.createElement("h2");e.textContent="Tus Michis Favoritos:",t.appendChild(e),c.appendChild(t)}();const n=[];e.forEach((t=>{!function(t,e){const n=document.createElement("article");n.classList.add("mainContainer__containerCard","mainContainer__containerCards--cardFav");const i=document.createElement("div");i.classList.add("mainContainer__containerInfoUser","mainContainer__infoUser--flex-end");const a=document.createElement("img");a.setAttribute("src","./assets/ant-design_delete-filled.svg"),a.classList.add("mainContainer__containerInfoUser--iconUser","iconSizeBig"),i.appendChild(a),a.alt="Icono de borrar tus michis favoritos";const o=document.createElement("div");o.classList.add("mainContainer__containerImgUser","mainContainer__containerImgUser--height");const c=document.createElement("img");c.classList.add("mainContainer__containerImgUser--imgMichi","mainContainer__containerImgUser--imgMichi--size"),c.setAttribute("src",`${t.image.url}`),c.setAttribute("loading","lazy"),c.alt="Foto de michi",o.appendChild(c),a.addEventListener("click",(()=>{!async function(t){const e=await fetch((t=>`https://api.thecatapi.com/v1/favourites/${t}`)(t),{method:"DELETE",headers:{"X-API-KEY":h}});await e.json(),p()}(t.id)})),n.appendChild(i),n.appendChild(o),e.push(n)}(t,n)})),c.append(...n),function(t){if(0==t.length){const t=document.createElement("div");t.classList.add("mainContainerFavorites__noMichi");const e=document.createElement("img");e.setAttribute("src","./assets/emojione_crying-cat-face.svg"),e.classList.add("mainContainerFavorites__noMichi--imgMichiSad"),e.alt="Foto de michi triste";const n=document.createElement("span");n.classList.add("mainContainerFavorites__noMichi--spanText"),n.textContent="Al parecer no tienes ningun michi favorito";const i=document.createElement("button");i.classList.add("mainContainerFavorites__noMichi--btn"),i.textContent="Buscar Michis",i.addEventListener("click",(()=>{location.hash="Home"})),t.appendChild(e),t.appendChild(n),t.appendChild(i),c.appendChild(t)}}(n),function(t){const e=document.querySelectorAll(".counterFav"),n=[];n.push(...e),n.forEach((e=>{e.innerHTML=t.length}))}(n)}window.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("hashchange",l,!1),async function(){const t=await async function(t){const e=await fetch(`${m}/images/search?limit=10`,{method:"GET",headers:{"X-API-KEY":h}});return await e.json()}();console.log(t);const n=await fetch("https://randomuser.me/api/1.3/?results=20&inc=name,picture"),{results:i}=await n.json();o.innerHTML="";const a=[];t.forEach((t=>{!function(t,n,i){const a=document.createElement("article");a.classList.add("mainContainer__containerCard");const o=document.createElement("div");o.classList.add("mainContainer__containerInfoUser");const c=document.createElement("img");c.setAttribute("src",`${i[e(1,20)].picture.thumbnail}`),c.alt="Icono del usuario",c.classList.add("mainContainer__containerInfoUser--iconUser");const s=document.createElement("p");s.textContent=`${i[e(1,20)].name.first}`,s.classList.add("mainContainer__containerInfoUser--nameUser"),o.appendChild(c),o.appendChild(s);const r=document.createElement("div");r.classList.add("mainContainer__containerImgUser");const d=document.createElement("img");d.setAttribute("src",`${t.url}`),d.setAttribute("loading","lazy"),d.alt="Foto de michi",d.classList.add("mainContainer__containerImgUser--imgMichi"),r.appendChild(d);const l=document.createElement("div");l.classList.add("mainContainer__containerButtons");const v=document.createElement("img");v.setAttribute("src",`${u}`),v.classList.add("mainContainer__containerButtons--iconLike","iconSizeBig"),v.alt="Icono para darle like a la foto del michi";const f=document.createElement("img");f.setAttribute("src","./assets/saveVector.svg"),f.classList.add("mainContainer__containerButtons--iconFav","iconSizeBig"),f.alt="Icono para guardar la foto del michi en favoritos";const g=[...document.querySelectorAll(".nav__right--containerCounter")];f.addEventListener("click",(()=>{(async function(t){const e=await fetch(`${m}/favourites`,{method:"POST",headers:{"Content-Type":"application/json","X-API-KEY":h},body:JSON.stringify({image_id:t})});await e.json(),p()})(t.id),g.forEach((t=>{t.classList.add("hardMove"),setTimeout((()=>{t.classList.remove("hardMove")}),1e3)}))})),l.appendChild(v),l.appendChild(f),a.appendChild(o),a.appendChild(r),a.appendChild(l),n.push(a)}(t,a,i)})),o.append(...a)}(),p()})();