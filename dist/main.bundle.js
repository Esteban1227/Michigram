(()=>{"use strict";function e(e,t){return Math.floor(Math.random()*(t-e))+e}function t(){const e=document.documentElement.scrollTop||document.body.scrollTop;e>0&&(window.requestAnimationFrame(t),window.scrollTo(0,e-e/5))}function n(){c.classList.remove("inactive"),s.removeEventListener("click",n),s.addEventListener("click",i)}function i(){c.classList.add("inactive"),s.removeEventListener("click",i),s.addEventListener("click",n)}const a=document.getElementById("randomMichis"),o=document.getElementById("favoriteMichis"),c=document.getElementById("menuMobilContainer"),s=document.getElementById("btnMenuMobile");s.addEventListener("click",n);const r=[...document.querySelectorAll(".nav__right--iconHome")],d=[...document.querySelectorAll(".nav__right--iconFav")],l="https://api.thecatapi.com/v1",m="53747e00-36d1-4c03-b6a6-5c31dfb1157e";async function h(){const t=await fetch(`${l}/images/search?limit=10`,{method:"GET",headers:{"X-API-KEY":m}}),n=await t.json(),i=await fetch("https://randomuser.me/api/1.3/?results=20&inc=name,picture"),{results:o}=await i.json();a.innerHTML="";const c=[];n.forEach((t=>{!function(t,n,i){const a=document.createElement("article");a.classList.add("mainContainer__containerCard");const o=document.createElement("div");o.classList.add("mainContainer__containerInfoUser");const c=document.createElement("img");c.setAttribute("src",`${i[e(1,20)].picture.thumbnail}`),c.alt="Icono del usuario",c.classList.add("mainContainer__containerInfoUser--iconUser");const s=document.createElement("p");s.textContent=`${i[e(1,20)].name.first}`,s.classList.add("mainContainer__containerInfoUser--nameUser"),o.appendChild(c),o.appendChild(s);const r=document.createElement("div");r.classList.add("mainContainer__containerImgUser");const d=document.createElement("img");d.setAttribute("src",`${t.url}`),d.setAttribute("loading","lazy"),d.alt="Foto de michi",d.classList.add("mainContainer__containerImgUser--imgMichi"),r.appendChild(d);const h=document.createElement("div");h.classList.add("mainContainer__containerButtons");const p=document.createElement("img");p.setAttribute("src","../src/assets/heartLikeVector.svg"),p.classList.add("mainContainer__containerButtons--iconLike","iconSizeBig"),p.alt="Icono para darle like a la foto del michi";const v=document.createElement("img");v.setAttribute("src","../src/assets/saveVector.svg"),v.classList.add("mainContainer__containerButtons--iconFav","iconSizeBig"),v.alt="Icono para guardar la foto del michi en favoritos";const _=[...document.querySelectorAll(".nav__right--containerCounter")];v.addEventListener("click",(()=>{(async function(e){const t=await fetch(`${l}/favourites`,{method:"POST",headers:{"Content-Type":"application/json","X-API-KEY":m},body:JSON.stringify({image_id:e})});await t.json(),u()})(t.id),_.forEach((e=>{e.classList.add("hardMove"),setTimeout((()=>{e.classList.remove("hardMove")}),1e3)}))})),h.appendChild(p),h.appendChild(v),a.appendChild(o),a.appendChild(r),a.appendChild(h),n.push(a)}(t,c,o)})),a.append(...c)}async function u(){const e=await fetch(`${l}/favourites`,{method:"GET",headers:{"X-API-KEY":m}}),t=await e.json();o.innerHTML="",function(){const e=document.createElement("div");e.classList.add("mainContainerFavorites__container-h2");const t=document.createElement("h2");t.textContent="Tus Michis Favoritos:",e.appendChild(t),o.appendChild(e)}();const n=[];t.forEach((e=>{!function(e,t){const n=document.createElement("article");n.classList.add("mainContainer__containerCard","mainContainer__containerCards--cardFav");const i=document.createElement("div");i.classList.add("mainContainer__containerInfoUser","mainContainer__infoUser--flex-end");const a=document.createElement("img");a.setAttribute("src","../src/assets/ant-design_delete-filled.svg"),a.classList.add("mainContainer__containerInfoUser--iconUser","iconSizeBig"),i.appendChild(a),a.alt="Icono de borrar tus michis favoritos";const o=document.createElement("div");o.classList.add("mainContainer__containerImgUser","mainContainer__containerImgUser--height");const c=document.createElement("img");c.classList.add("mainContainer__containerImgUser--imgMichi","mainContainer__containerImgUser--imgMichi--size"),c.setAttribute("src",`${e.image.url}`),c.setAttribute("loading","lazy"),c.alt="Foto de michi",o.appendChild(c),a.addEventListener("click",(()=>{!async function(e){const t=await fetch((e=>`https://api.thecatapi.com/v1/favourites/${e}`)(e),{method:"DELETE",headers:{"X-API-KEY":m}});await t.json(),u()}(e.id)})),n.appendChild(i),n.appendChild(o),t.push(n)}(e,n)})),o.append(...n),function(e){if(0==e.length){const e=document.createElement("div");e.classList.add("mainContainerFavorites__noMichi");const t=document.createElement("img");t.setAttribute("src","./src/assets/emojione_crying-cat-face.svg"),t.classList.add("mainContainerFavorites__noMichi--imgMichiSad"),t.alt="Foto de michi triste";const n=document.createElement("span");n.classList.add("mainContainerFavorites__noMichi--spanText"),n.textContent="Al parecer no tienes ningun michi favorito";const i=document.createElement("button");i.classList.add("mainContainerFavorites__noMichi--btn"),i.textContent="Buscar Michis",i.addEventListener("click",(()=>{location.hash="Home"})),e.appendChild(t),e.appendChild(n),e.appendChild(i),o.appendChild(e)}}(n),function(e){const t=document.querySelectorAll(".counterFav"),n=[];n.push(...t),n.forEach((t=>{t.innerHTML=e.length}))}(n)}function p(){location.hash.startsWith("#favorite")?(a.classList.add("inactive"),o.classList.remove("inactive")):location.hash.startsWith("#Home")?(a.classList.remove("inactive"),a.classList.remove("smoothTopToBottom"),o.classList.add("inactive")):(u(),h())}d.forEach((e=>{e.addEventListener("click",(()=>{location.hash="favorite",t()}))})),r.forEach((e=>{e.addEventListener("click",(()=>{location.hash="Home",t()}))})),window.addEventListener("DOMContentLoaded",p,!1),window.addEventListener("hashchange",p,!1),location.hash=""})();